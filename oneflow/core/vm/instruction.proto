syntax = "proto2";
package oneflow.vm;

message MirroredParallelIdProto {}
message AllParallelIdProto {}

message MirroredObjectOperandProto {
  required int64 logical_object_id = 1;
  oneof operand_type {
    int64 fixed_parallel_id = 2;
    MirroredParallelIdProto mirrored_parallel_id = 3;
    AllParallelIdProto all_parallel_id = 4;
  }
}

message InstructionOperandProto {
  oneof type {
    MirroredObjectOperandProto const_operand = 1;
    MirroredObjectOperandProto mutable_operand = 2;
    double double_i_operand = 3;
    int64 int64_i_operand = 4;
    bool bool_i_operand = 5;
  }
}

message InstructionProto {
  required string instr_type_name = 1;
  repeated InstructionOperandProto operand = 2;
};

message InstructionListProto {
  repeated InstructionProto instruction = 1;
}
